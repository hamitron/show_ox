<!doctype html>
<html ng-app="showfax" >
  <head>
    <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap-theme.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular-resource.min.js"></script>
    <script src="js/app.js"></script>
    <script src="js/services.js"></script>
 
  </head>
<body ng-controller="MainCtrl">
<div class="container">
  <div class="row">
    <h2>Projects</h2>
  </div>
  <div ng-show="showDetail" class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">{{projectShow.label}}</h3>
    </div>
    <div class="panel-body">
      <div class="col-md-3">
        DIRECTOR
        <h4>{{projectShow.directors}}</h4>
        LOCATION
        <h4>{{projectShow.project_location}}</h4>
        TYPE
        <h4>{{projectShow.project_type.label}}</h4>
      </div>
      <div class="col-md-9">
        <ul>
          <li ng-repeat="role in projectShow.roles">{{role.label}}</li>
        </ul>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-4">
     <input class="form-control input-sm" ng-model="titleDirectorQuery">
    </div>
    <div class="col-md-4">
     <select class="form-control input-sm" ng-model="locationQuery">
      <option value="">All</option>
      <option ng-repeat="location in locations" value="{{location}}">{{location}} </option>
     </select>
    </div>
    <div class="col-md-4">
     <select  class="form-control input-sm" ng-model="typeQuery">
      <option value="">All</option>
      <option ng-repeat="type in project_types" value="{{type}}">{{type}} </option>
     </select>
     </div>
  </div>
  <div class="row">
  <table id="project-table" class="table table-responsive table-condensed">
    <thead>
      <tr>
        <th>Title</th>
        <th>Directors</th>
        <th>Location</th>
        <th>Type</th>
        <th>Start Date</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="project in projects | filter: {search_field: titleDirectorQuery, project_type: typeQuery, project_location: locationQuery} ">
        <td><a ng-href="#" ng-click="setId(project.id)">{{project.label}}</a></td>
        <td>{{project.directors}}</td>
        <td>{{project.project_location}}</td>
        <td>{{project.project_type}}</td>
        <td>{{project.start_date}}</td>
      </tr>
    </tbody>
  </table>
  </div>
  </div>
  </body>
</html>